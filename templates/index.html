<!DOCTYPE html>
<html lang="uz">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>LUXE STORE ‚Äî Zamonaviy Do'kon</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;0,900;1,400&family=DM+Sans:wght@300;400;500;600&family=DM+Mono:wght@400;500&display=swap" rel="stylesheet">
<style>
:root {
  --bg: #0a0a0b;
  --surface: #111114;
  --surface2: #18181d;
  --border: rgba(255,255,255,0.07);
  --accent: #e8c77a;
  --accent2: #c4a45a;
  --text: #f0ede8;
  --text-muted: #7a7870;
  --text-dim: #4a4842;
  --danger: #e05c5c;
  --success: #5ce07a;
  --pending: #e0a05c;
  --radius: 16px;
  --radius-sm: 8px;
}

* { margin: 0; padding: 0; box-sizing: border-box; }

html { scroll-behavior: smooth; }

body {
  background: var(--bg);
  color: var(--text);
  font-family: 'DM Sans', sans-serif;
  min-height: 100vh;
  overflow-x: hidden;
}

/* NOISE TEXTURE OVERLAY */
body::before {
  content: '';
  position: fixed;
  inset: 0;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)' opacity='0.03'/%3E%3C/svg%3E");
  pointer-events: none;
  z-index: 9999;
  opacity: 0.4;
}

/* SCROLLBAR */
::-webkit-scrollbar { width: 4px; }
::-webkit-scrollbar-track { background: var(--bg); }
::-webkit-scrollbar-thumb { background: var(--accent2); border-radius: 2px; }

/* NAV */
nav {
  position: fixed;
  top: 0; left: 0; right: 0;
  z-index: 100;
  padding: 0 48px;
  height: 72px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  background: rgba(10,10,11,0.85);
  backdrop-filter: blur(20px);
  border-bottom: 1px solid var(--border);
}

.nav-logo {
  font-family: 'Playfair Display', serif;
  font-size: 22px;
  font-weight: 900;
  letter-spacing: -0.5px;
  color: var(--accent);
  text-decoration: none;
}
.nav-logo span { color: var(--text); }

.nav-links {
  display: flex;
  gap: 36px;
  list-style: none;
}
.nav-links a {
  color: var(--text-muted);
  text-decoration: none;
  font-size: 14px;
  font-weight: 500;
  letter-spacing: 0.3px;
  transition: color 0.2s;
  position: relative;
}
.nav-links a:hover { color: var(--text); }
.nav-links a.active { color: var(--accent); }

.nav-actions {
  display: flex;
  align-items: center;
  gap: 16px;
}

.nav-icon-btn {
  width: 40px; height: 40px;
  border-radius: 10px;
  border: 1px solid var(--border);
  background: var(--surface);
  color: var(--text-muted);
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: all 0.2s;
  text-decoration: none;
  position: relative;
}
.nav-icon-btn:hover {
  border-color: var(--accent);
  color: var(--accent);
  background: rgba(232,199,122,0.05);
}

.badge {
  position: absolute;
  top: -5px; right: -5px;
  background: var(--accent);
  color: var(--bg);
  width: 18px; height: 18px;
  border-radius: 50%;
  font-size: 10px;
  font-weight: 700;
  display: flex;
  align-items: center;
  justify-content: center;
  font-family: 'DM Mono', monospace;
}

.btn-primary {
  padding: 10px 22px;
  background: var(--accent);
  color: var(--bg);
  border: none;
  border-radius: var(--radius-sm);
  font-size: 14px;
  font-weight: 600;
  font-family: 'DM Sans', sans-serif;
  cursor: pointer;
  transition: all 0.2s;
  text-decoration: none;
  display: inline-flex;
  align-items: center;
  gap: 8px;
  letter-spacing: 0.2px;
}
.btn-primary:hover {
  background: #f0d48a;
  transform: translateY(-1px);
  box-shadow: 0 8px 24px rgba(232,199,122,0.25);
}

.btn-ghost {
  padding: 10px 20px;
  background: transparent;
  color: var(--text);
  border: 1px solid var(--border);
  border-radius: var(--radius-sm);
  font-size: 14px;
  font-weight: 500;
  font-family: 'DM Sans', sans-serif;
  cursor: pointer;
  transition: all 0.2s;
  text-decoration: none;
  display: inline-flex;
  align-items: center;
  gap: 8px;
}
.btn-ghost:hover {
  border-color: var(--accent);
  color: var(--accent);
  background: rgba(232,199,122,0.04);
}

/* PAGES */
.page { display: none; }
.page.active { display: block; }

/* HERO */
.hero {
  min-height: 100vh;
  padding: 140px 48px 80px;
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 80px;
  align-items: center;
  position: relative;
  overflow: hidden;
}

.hero::after {
  content: '';
  position: absolute;
  right: -200px;
  top: 50%;
  transform: translateY(-50%);
  width: 700px;
  height: 700px;
  background: radial-gradient(circle, rgba(232,199,122,0.06) 0%, transparent 70%);
  pointer-events: none;
}

.hero-label {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 6px 14px;
  border: 1px solid rgba(232,199,122,0.25);
  border-radius: 100px;
  font-size: 12px;
  font-weight: 500;
  color: var(--accent);
  letter-spacing: 1.5px;
  text-transform: uppercase;
  margin-bottom: 28px;
  font-family: 'DM Mono', monospace;
}
.hero-label::before {
  content: '';
  width: 6px; height: 6px;
  border-radius: 50%;
  background: var(--accent);
  animation: pulse 2s infinite;
}

@keyframes pulse {
  0%,100% { opacity: 1; transform: scale(1); }
  50% { opacity: 0.5; transform: scale(0.8); }
}

.hero h1 {
  font-family: 'Playfair Display', serif;
  font-size: clamp(52px, 6vw, 88px);
  font-weight: 900;
  line-height: 0.95;
  letter-spacing: -2px;
  margin-bottom: 28px;
}

.hero h1 em {
  font-style: italic;
  color: var(--accent);
}

.hero-desc {
  color: var(--text-muted);
  font-size: 16px;
  line-height: 1.7;
  max-width: 480px;
  margin-bottom: 40px;
}

.hero-actions {
  display: flex;
  gap: 14px;
  align-items: center;
  flex-wrap: wrap;
}

.hero-stats {
  margin-top: 64px;
  display: flex;
  gap: 48px;
}
.stat {
  display: flex;
  flex-direction: column;
  gap: 4px;
}
.stat-num {
  font-family: 'Playfair Display', serif;
  font-size: 32px;
  font-weight: 700;
  color: var(--accent);
}
.stat-label {
  font-size: 12px;
  color: var(--text-dim);
  letter-spacing: 0.5px;
  text-transform: uppercase;
}

/* HERO VISUAL */
.hero-visual {
  position: relative;
  height: 580px;
}

.hero-card {
  position: absolute;
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 24px;
  overflow: hidden;
  transition: transform 0.4s ease;
}

.hero-card:nth-child(1) {
  width: 280px;
  right: 40px;
  top: 20px;
  transform: rotate(3deg);
  animation: float1 6s ease-in-out infinite;
}
.hero-card:nth-child(2) {
  width: 240px;
  right: 180px;
  bottom: 60px;
  transform: rotate(-2deg);
  animation: float2 8s ease-in-out infinite;
}
.hero-card:nth-child(3) {
  width: 200px;
  right: 20px;
  bottom: 40px;
  transform: rotate(1deg);
  animation: float3 7s ease-in-out infinite;
}

@keyframes float1 {
  0%,100% { transform: rotate(3deg) translateY(0); }
  50% { transform: rotate(3deg) translateY(-15px); }
}
@keyframes float2 {
  0%,100% { transform: rotate(-2deg) translateY(0); }
  50% { transform: rotate(-2deg) translateY(-10px); }
}
@keyframes float3 {
  0%,100% { transform: rotate(1deg) translateY(0); }
  50% { transform: rotate(1deg) translateY(-20px); }
}

.card-img {
  width: 100%;
  aspect-ratio: 4/3;
  background: linear-gradient(135deg, var(--surface2), #1e1e25);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 48px;
}

.card-info {
  padding: 16px;
}
.card-info h4 {
  font-size: 14px;
  font-weight: 600;
  margin-bottom: 4px;
}
.card-info .price {
  font-family: 'DM Mono', monospace;
  color: var(--accent);
  font-size: 13px;
}

/* MAIN CONTENT */
.main-content {
  padding: 100px 48px 80px;
  max-width: 1400px;
  margin: 0 auto;
}

/* SECTION HEADER */
.section-header {
  display: flex;
  align-items: flex-end;
  justify-content: space-between;
  margin-bottom: 40px;
  gap: 24px;
}

.section-title {
  font-family: 'Playfair Display', serif;
  font-size: clamp(32px, 4vw, 48px);
  font-weight: 700;
  letter-spacing: -1px;
  line-height: 1.1;
}

.section-title span {
  color: var(--accent);
  font-style: italic;
}

.section-meta {
  font-size: 13px;
  color: var(--text-dim);
  font-family: 'DM Mono', monospace;
  white-space: nowrap;
}

/* CATEGORIES */
.categories {
  display: flex;
  gap: 12px;
  margin-bottom: 40px;
  flex-wrap: wrap;
}

.cat-chip {
  padding: 8px 20px;
  border-radius: 100px;
  border: 1px solid var(--border);
  background: transparent;
  color: var(--text-muted);
  font-size: 13px;
  font-weight: 500;
  font-family: 'DM Sans', sans-serif;
  cursor: pointer;
  transition: all 0.2s;
  display: flex;
  align-items: center;
  gap: 8px;
}
.cat-chip:hover, .cat-chip.active {
  border-color: var(--accent);
  color: var(--accent);
  background: rgba(232,199,122,0.06);
}

/* PRODUCTS GRID */
.products-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
  gap: 24px;
}

/* PRODUCT CARD */
.product-card {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  overflow: hidden;
  cursor: pointer;
  transition: all 0.3s ease;
  position: relative;
  group: true;
}

.product-card:hover {
  border-color: rgba(232,199,122,0.2);
  transform: translateY(-4px);
  box-shadow: 0 20px 60px rgba(0,0,0,0.5), 0 0 0 1px rgba(232,199,122,0.1);
}

.product-img-wrap {
  aspect-ratio: 1;
  background: linear-gradient(135deg, var(--surface2) 0%, #1c1c22 100%);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 64px;
  position: relative;
  overflow: hidden;
}

.product-img-wrap img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  transition: transform 0.4s ease;
}

.product-card:hover .product-img-wrap img {
  transform: scale(1.05);
}

.product-badges {
  position: absolute;
  top: 12px;
  left: 12px;
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.badge-discount {
  padding: 4px 10px;
  background: var(--accent);
  color: var(--bg);
  border-radius: 100px;
  font-size: 11px;
  font-weight: 700;
  font-family: 'DM Mono', monospace;
}

.badge-stock {
  padding: 4px 10px;
  background: rgba(10,10,11,0.8);
  border: 1px solid var(--border);
  border-radius: 100px;
  font-size: 11px;
  color: var(--text-muted);
}

.wish-btn {
  position: absolute;
  top: 12px; right: 12px;
  width: 36px; height: 36px;
  border-radius: 50%;
  background: rgba(10,10,11,0.7);
  backdrop-filter: blur(10px);
  border: 1px solid var(--border);
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: all 0.2s;
  font-size: 16px;
}
.wish-btn:hover { border-color: #e05c7a; background: rgba(224,92,122,0.15); }
.wish-btn.active { color: #e05c7a; background: rgba(224,92,122,0.15); border-color: #e05c7a; }

.product-body {
  padding: 20px;
}

.product-brand {
  font-size: 11px;
  color: var(--text-dim);
  letter-spacing: 1.5px;
  text-transform: uppercase;
  font-family: 'DM Mono', monospace;
  margin-bottom: 6px;
}

.product-title {
  font-size: 16px;
  font-weight: 600;
  margin-bottom: 14px;
  color: var(--text);
  line-height: 1.3;
}

.product-pricing {
  display: flex;
  align-items: center;
  gap: 10px;
  margin-bottom: 16px;
}

.price-current {
  font-family: 'DM Mono', monospace;
  font-size: 18px;
  font-weight: 500;
  color: var(--accent);
}

.price-original {
  font-family: 'DM Mono', monospace;
  font-size: 13px;
  color: var(--text-dim);
  text-decoration: line-through;
}

.add-cart-btn {
  width: 100%;
  padding: 12px;
  background: transparent;
  border: 1px solid var(--border);
  border-radius: var(--radius-sm);
  color: var(--text);
  font-size: 13px;
  font-weight: 600;
  font-family: 'DM Sans', sans-serif;
  cursor: pointer;
  transition: all 0.25s;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
}
.add-cart-btn:hover {
  background: var(--accent);
  border-color: var(--accent);
  color: var(--bg);
  box-shadow: 0 4px 20px rgba(232,199,122,0.2);
}
.add-cart-btn.added {
  background: rgba(92,224,122,0.12);
  border-color: var(--success);
  color: var(--success);
}

/* CART PAGE */
.cart-layout {
  display: grid;
  grid-template-columns: 1fr 380px;
  gap: 32px;
  align-items: start;
}

.cart-items-list {
  display: flex;
  flex-direction: column;
  gap: 16px;
}

.cart-item-card {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  padding: 20px;
  display: flex;
  gap: 20px;
  align-items: center;
  transition: border-color 0.2s;
}
.cart-item-card:hover { border-color: rgba(232,199,122,0.15); }

.cart-item-img {
  width: 80px; height: 80px;
  border-radius: 12px;
  background: var(--surface2);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 32px;
  flex-shrink: 0;
  overflow: hidden;
}
.cart-item-img img { width: 100%; height: 100%; object-fit: cover; }

.cart-item-info { flex: 1; }

.cart-item-brand {
  font-size: 11px;
  color: var(--text-dim);
  text-transform: uppercase;
  letter-spacing: 1px;
  font-family: 'DM Mono', monospace;
  margin-bottom: 4px;
}

.cart-item-title {
  font-size: 15px;
  font-weight: 600;
  margin-bottom: 8px;
}

.cart-item-price {
  font-family: 'DM Mono', monospace;
  color: var(--accent);
  font-size: 14px;
}

.qty-control {
  display: flex;
  align-items: center;
  gap: 0;
  border: 1px solid var(--border);
  border-radius: var(--radius-sm);
  overflow: hidden;
}

.qty-btn {
  width: 36px; height: 36px;
  background: var(--surface2);
  border: none;
  color: var(--text);
  font-size: 16px;
  cursor: pointer;
  transition: all 0.2s;
  display: flex;
  align-items: center;
  justify-content: center;
}
.qty-btn:hover { background: rgba(232,199,122,0.1); color: var(--accent); }

.qty-num {
  min-width: 40px;
  text-align: center;
  font-family: 'DM Mono', monospace;
  font-size: 14px;
  font-weight: 600;
  padding: 0 8px;
  background: var(--surface);
  border-left: 1px solid var(--border);
  border-right: 1px solid var(--border);
  line-height: 36px;
}

.remove-btn {
  width: 36px; height: 36px;
  background: transparent;
  border: 1px solid var(--border);
  border-radius: var(--radius-sm);
  color: var(--text-muted);
  cursor: pointer;
  transition: all 0.2s;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 14px;
}
.remove-btn:hover { border-color: var(--danger); color: var(--danger); background: rgba(224,92,92,0.08); }

/* ORDER SUMMARY */
.order-summary {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  padding: 28px;
  position: sticky;
  top: 90px;
}

.summary-title {
  font-family: 'Playfair Display', serif;
  font-size: 22px;
  font-weight: 700;
  margin-bottom: 24px;
}

.summary-row {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 10px 0;
  border-bottom: 1px solid var(--border);
  font-size: 14px;
}
.summary-row:last-of-type { border-bottom: none; }
.summary-row .label { color: var(--text-muted); }
.summary-row .value { font-family: 'DM Mono', monospace; font-weight: 500; }
.summary-row.total { padding-top: 16px; }
.summary-row.total .label { font-size: 15px; font-weight: 600; color: var(--text); }
.summary-row.total .value { font-size: 20px; color: var(--accent); }

.checkout-btn {
  width: 100%;
  padding: 16px;
  margin-top: 20px;
  background: var(--accent);
  color: var(--bg);
  border: none;
  border-radius: var(--radius-sm);
  font-size: 15px;
  font-weight: 700;
  font-family: 'DM Sans', sans-serif;
  cursor: pointer;
  transition: all 0.25s;
  letter-spacing: 0.3px;
}
.checkout-btn:hover {
  background: #f0d48a;
  box-shadow: 0 8px 32px rgba(232,199,122,0.3);
  transform: translateY(-1px);
}

/* ORDERS PAGE */
.orders-list {
  display: flex;
  flex-direction: column;
  gap: 16px;
}

.order-card {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  padding: 24px;
  cursor: pointer;
  transition: all 0.25s;
}
.order-card:hover {
  border-color: rgba(232,199,122,0.2);
  transform: translateX(4px);
}

.order-header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  margin-bottom: 16px;
}

.order-id {
  font-family: 'DM Mono', monospace;
  font-size: 13px;
  color: var(--text-dim);
  margin-bottom: 4px;
}

.order-date {
  font-family: 'DM Mono', monospace;
  font-size: 12px;
  color: var(--text-dim);
}

.order-total {
  font-family: 'DM Mono', monospace;
  font-size: 20px;
  font-weight: 500;
  color: var(--accent);
}

.status-badge {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 5px 12px;
  border-radius: 100px;
  font-size: 12px;
  font-weight: 600;
  font-family: 'DM Mono', monospace;
}

.status-badge::before {
  content: '';
  width: 6px; height: 6px;
  border-radius: 50%;
}

.status-pending {
  background: rgba(224,160,92,0.12);
  border: 1px solid rgba(224,160,92,0.25);
  color: var(--pending);
}
.status-pending::before { background: var(--pending); animation: pulse 2s infinite; }

.status-processing {
  background: rgba(92,160,224,0.12);
  border: 1px solid rgba(92,160,224,0.25);
  color: #5ca0e0;
}
.status-processing::before { background: #5ca0e0; }

.status-shipped {
  background: rgba(160,92,224,0.12);
  border: 1px solid rgba(160,92,224,0.25);
  color: #a05ce0;
}
.status-shipped::before { background: #a05ce0; }

.status-delivered {
  background: rgba(92,224,122,0.12);
  border: 1px solid rgba(92,224,122,0.25);
  color: var(--success);
}
.status-delivered::before { background: var(--success); }

.status-cancelled {
  background: rgba(224,92,92,0.12);
  border: 1px solid rgba(224,92,92,0.25);
  color: var(--danger);
}
.status-cancelled::before { background: var(--danger); }

.order-items-preview {
  display: flex;
  gap: 8px;
  flex-wrap: wrap;
}

.order-item-chip {
  padding: 6px 12px;
  background: var(--surface2);
  border-radius: 6px;
  font-size: 12px;
  color: var(--text-muted);
}

/* AUTH PAGES */
.auth-wrap {
  min-height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 100px 24px;
  position: relative;
}

.auth-wrap::before {
  content: '';
  position: fixed;
  top: -200px;
  left: 50%;
  transform: translateX(-50%);
  width: 600px;
  height: 600px;
  background: radial-gradient(circle, rgba(232,199,122,0.04) 0%, transparent 70%);
  pointer-events: none;
}

.auth-card {
  width: 100%;
  max-width: 440px;
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 24px;
  padding: 48px;
  position: relative;
}

.auth-logo {
  text-align: center;
  margin-bottom: 32px;
}

.auth-logo-text {
  font-family: 'Playfair Display', serif;
  font-size: 28px;
  font-weight: 900;
  color: var(--accent);
}

.auth-title {
  font-family: 'Playfair Display', serif;
  font-size: 28px;
  font-weight: 700;
  margin-bottom: 8px;
  text-align: center;
}

.auth-subtitle {
  text-align: center;
  color: var(--text-muted);
  font-size: 14px;
  margin-bottom: 36px;
}

.form-group {
  margin-bottom: 20px;
}

.form-label {
  display: block;
  font-size: 12px;
  font-weight: 600;
  letter-spacing: 0.5px;
  text-transform: uppercase;
  color: var(--text-muted);
  margin-bottom: 8px;
  font-family: 'DM Mono', monospace;
}

.form-input {
  width: 100%;
  padding: 14px 18px;
  background: var(--surface2);
  border: 1px solid var(--border);
  border-radius: var(--radius-sm);
  color: var(--text);
  font-size: 15px;
  font-family: 'DM Sans', sans-serif;
  transition: all 0.2s;
  outline: none;
}
.form-input:focus {
  border-color: rgba(232,199,122,0.4);
  background: #1a1a1f;
  box-shadow: 0 0 0 3px rgba(232,199,122,0.06);
}
.form-input::placeholder { color: var(--text-dim); }

.form-btn {
  width: 100%;
  padding: 16px;
  background: var(--accent);
  color: var(--bg);
  border: none;
  border-radius: var(--radius-sm);
  font-size: 15px;
  font-weight: 700;
  font-family: 'DM Sans', sans-serif;
  cursor: pointer;
  transition: all 0.25s;
  margin-top: 8px;
  letter-spacing: 0.3px;
}
.form-btn:hover {
  background: #f0d48a;
  box-shadow: 0 8px 32px rgba(232,199,122,0.25);
  transform: translateY(-1px);
}

.auth-switch {
  text-align: center;
  margin-top: 24px;
  font-size: 14px;
  color: var(--text-muted);
}
.auth-switch a {
  color: var(--accent);
  text-decoration: none;
  font-weight: 600;
}

.error-msg {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 12px 16px;
  background: rgba(224,92,92,0.08);
  border: 1px solid rgba(224,92,92,0.2);
  border-radius: var(--radius-sm);
  color: var(--danger);
  font-size: 13px;
  margin-bottom: 20px;
}

/* PROFILE PAGE */
.profile-header {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  padding: 40px;
  display: flex;
  align-items: center;
  gap: 32px;
  margin-bottom: 32px;
  position: relative;
  overflow: hidden;
}

.profile-header::before {
  content: '';
  position: absolute;
  top: 0; left: 0; right: 0; bottom: 0;
  background: linear-gradient(135deg, rgba(232,199,122,0.03) 0%, transparent 60%);
  pointer-events: none;
}

.avatar-wrap {
  position: relative;
  flex-shrink: 0;
}

.avatar {
  width: 100px; height: 100px;
  border-radius: 50%;
  background: linear-gradient(135deg, var(--accent2), #8a6a2a);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 40px;
  font-family: 'Playfair Display', serif;
  font-weight: 700;
  color: var(--bg);
  overflow: hidden;
  border: 3px solid rgba(232,199,122,0.2);
}
.avatar img { width: 100%; height: 100%; object-fit: cover; }

.online-dot {
  position: absolute;
  bottom: 4px; right: 4px;
  width: 16px; height: 16px;
  background: var(--success);
  border-radius: 50%;
  border: 3px solid var(--surface);
  animation: pulse 2s infinite;
}

.profile-name {
  font-family: 'Playfair Display', serif;
  font-size: 32px;
  font-weight: 700;
  margin-bottom: 4px;
}

.profile-username {
  font-family: 'DM Mono', monospace;
  color: var(--text-dim);
  font-size: 14px;
  margin-bottom: 16px;
}

.profile-meta {
  display: flex;
  gap: 24px;
}

.meta-item {
  display: flex;
  flex-direction: column;
  gap: 2px;
}
.meta-label {
  font-size: 11px;
  color: var(--text-dim);
  text-transform: uppercase;
  letter-spacing: 1px;
}
.meta-value {
  font-family: 'DM Mono', monospace;
  font-size: 15px;
  color: var(--accent);
  font-weight: 500;
}

.balance-card {
  background: linear-gradient(135deg, #1a1a0a, #1e1c10);
  border: 1px solid rgba(232,199,122,0.2);
  border-radius: var(--radius);
  padding: 28px;
  margin-bottom: 32px;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.balance-label {
  font-size: 12px;
  letter-spacing: 2px;
  text-transform: uppercase;
  color: var(--accent2);
  margin-bottom: 8px;
  font-family: 'DM Mono', monospace;
}

.balance-amount {
  font-family: 'Playfair Display', serif;
  font-size: 40px;
  font-weight: 700;
  color: var(--accent);
}
.balance-amount span {
  font-size: 20px;
  vertical-align: super;
}

/* EMPTY STATES */
.empty-state {
  text-align: center;
  padding: 80px 20px;
}
.empty-icon {
  font-size: 64px;
  margin-bottom: 20px;
  opacity: 0.5;
}
.empty-title {
  font-family: 'Playfair Display', serif;
  font-size: 24px;
  font-weight: 700;
  margin-bottom: 8px;
}
.empty-text {
  color: var(--text-muted);
  font-size: 14px;
  margin-bottom: 28px;
}

/* TOAST */
.toast {
  position: fixed;
  bottom: 32px;
  right: 32px;
  z-index: 1000;
  display: flex;
  flex-direction: column;
  gap: 12px;
  pointer-events: none;
}

.toast-item {
  padding: 14px 20px;
  border-radius: 12px;
  font-size: 14px;
  font-weight: 500;
  display: flex;
  align-items: center;
  gap: 10px;
  backdrop-filter: blur(20px);
  animation: slideIn 0.3s ease;
  pointer-events: all;
  max-width: 340px;
}

.toast-success {
  background: rgba(92,224,122,0.12);
  border: 1px solid rgba(92,224,122,0.25);
  color: var(--success);
}
.toast-error {
  background: rgba(224,92,92,0.12);
  border: 1px solid rgba(224,92,92,0.25);
  color: var(--danger);
}
.toast-info {
  background: rgba(232,199,122,0.1);
  border: 1px solid rgba(232,199,122,0.2);
  color: var(--accent);
}

@keyframes slideIn {
  from { transform: translateX(100px); opacity: 0; }
  to { transform: translateX(0); opacity: 1; }
}

/* MODAL */
.modal-overlay {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.7);
  backdrop-filter: blur(8px);
  z-index: 200;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 24px;
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.3s;
}
.modal-overlay.open {
  opacity: 1;
  pointer-events: all;
}

.modal {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 24px;
  padding: 40px;
  max-width: 560px;
  width: 100%;
  transform: scale(0.95) translateY(20px);
  transition: all 0.3s;
}
.modal-overlay.open .modal {
  transform: scale(1) translateY(0);
}

.modal-header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  margin-bottom: 24px;
}
.modal-close {
  width: 36px; height: 36px;
  border: 1px solid var(--border);
  background: transparent;
  border-radius: 50%;
  cursor: pointer;
  color: var(--text-muted);
  font-size: 18px;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.2s;
}
.modal-close:hover { border-color: var(--danger); color: var(--danger); }

/* PRODUCT DETAIL MODAL */
.product-detail-img {
  width: 100%;
  aspect-ratio: 16/9;
  background: var(--surface2);
  border-radius: 16px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 80px;
  margin-bottom: 24px;
  overflow: hidden;
}
.product-detail-img img { width: 100%; height: 100%; object-fit: cover; }

.product-detail-title {
  font-family: 'Playfair Display', serif;
  font-size: 26px;
  font-weight: 700;
  margin-bottom: 8px;
}

.product-detail-desc {
  color: var(--text-muted);
  font-size: 14px;
  line-height: 1.6;
  margin-bottom: 20px;
}

.product-detail-meta {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 12px;
  margin-bottom: 24px;
}

.meta-chip {
  padding: 12px 16px;
  background: var(--surface2);
  border-radius: var(--radius-sm);
  display: flex;
  flex-direction: column;
  gap: 4px;
}
.meta-chip .lbl { font-size: 11px; color: var(--text-dim); text-transform: uppercase; letter-spacing: 0.5px; }
.meta-chip .val { font-family: 'DM Mono', monospace; font-size: 14px; font-weight: 500; }

/* DIVIDER */
.divider {
  height: 1px;
  background: var(--border);
  margin: 32px 0;
}

/* DASHBOARD TABLE */
.dash-table {
  width: 100%;
  border-collapse: collapse;
}
.dash-table th {
  text-align: left;
  padding: 12px 16px;
  font-size: 11px;
  font-weight: 600;
  letter-spacing: 1px;
  text-transform: uppercase;
  color: var(--text-dim);
  font-family: 'DM Mono', monospace;
  border-bottom: 1px solid var(--border);
}
.dash-table td {
  padding: 16px;
  border-bottom: 1px solid rgba(255,255,255,0.03);
  font-size: 14px;
  vertical-align: middle;
}
.dash-table tr:hover td { background: rgba(255,255,255,0.01); }

.action-btns { display: flex; gap: 8px; }
.btn-sm {
  padding: 6px 14px;
  border-radius: 6px;
  font-size: 12px;
  font-weight: 600;
  cursor: pointer;
  border: 1px solid;
  transition: all 0.2s;
  font-family: 'DM Sans', sans-serif;
}
.btn-edit { border-color: rgba(92,160,224,0.3); color: #5ca0e0; background: rgba(92,160,224,0.08); }
.btn-edit:hover { background: rgba(92,160,224,0.15); }
.btn-del { border-color: rgba(224,92,92,0.3); color: var(--danger); background: rgba(224,92,92,0.08); }
.btn-del:hover { background: rgba(224,92,92,0.15); }
.btn-view { border-color: rgba(232,199,122,0.3); color: var(--accent); background: rgba(232,199,122,0.08); }
.btn-view:hover { background: rgba(232,199,122,0.15); }

/* STATS GRID */
.stats-grid {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 20px;
  margin-bottom: 40px;
}

.stat-card {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  padding: 24px;
  position: relative;
  overflow: hidden;
}
.stat-card::before {
  content: '';
  position: absolute;
  top: -30px; right: -30px;
  width: 100px; height: 100px;
  border-radius: 50%;
  background: radial-gradient(circle, rgba(232,199,122,0.08), transparent);
}
.stat-card .s-icon { font-size: 28px; margin-bottom: 12px; }
.stat-card .s-val {
  font-family: 'Playfair Display', serif;
  font-size: 32px;
  font-weight: 700;
  color: var(--accent);
  margin-bottom: 4px;
}
.stat-card .s-lbl {
  font-size: 13px;
  color: var(--text-muted);
}

/* SUCCESS PAGE */
.success-page {
  min-height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-direction: column;
  text-align: center;
  padding: 100px 24px;
}
.success-icon {
  width: 100px; height: 100px;
  border-radius: 50%;
  background: rgba(92,224,122,0.12);
  border: 2px solid rgba(92,224,122,0.3);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 44px;
  margin: 0 auto 28px;
  animation: successPop 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
}
@keyframes successPop {
  from { transform: scale(0); opacity: 0; }
  to { transform: scale(1); opacity: 1; }
}

/* RESPONSIVE */
@media (max-width: 1100px) {
  .stats-grid { grid-template-columns: repeat(2, 1fr); }
  .cart-layout { grid-template-columns: 1fr; }
}

@media (max-width: 768px) {
  nav { padding: 0 20px; }
  .nav-links { display: none; }
  .hero { grid-template-columns: 1fr; padding: 120px 20px 60px; }
  .hero-visual { display: none; }
  .main-content { padding: 80px 20px 60px; }
  .stats-grid { grid-template-columns: 1fr 1fr; }
}

/* ANIMATIONS */
@keyframes fadeUp {
  from { opacity: 0; transform: translateY(24px); }
  to { opacity: 1; transform: translateY(0); }
}

.fade-up {
  animation: fadeUp 0.5s ease forwards;
}

.fade-up-1 { animation-delay: 0.1s; opacity: 0; }
.fade-up-2 { animation-delay: 0.2s; opacity: 0; }
.fade-up-3 { animation-delay: 0.3s; opacity: 0; }
.fade-up-4 { animation-delay: 0.4s; opacity: 0; }

/* PAGE TRANSITION */
.page {
  animation: pageIn 0.35s ease;
}
@keyframes pageIn {
  from { opacity: 0; transform: translateY(12px); }
  to { opacity: 1; transform: translateY(0); }
}
</style>
</head>
<body>

<!-- NAVIGATION -->
<nav>
  <a class="nav-logo" href="#" onclick="showPage('home')">LUXE<span>STORE</span></a>
  <ul class="nav-links">
    <li><a href="#" class="active" onclick="showPage('home'); setActive(this)">Bosh sahifa</a></li>
    <li><a href="#" onclick="showPage('products'); setActive(this)">Mahsulotlar</a></li>
    <li><a href="#" onclick="showPage('orders'); setActive(this)">Buyurtmalar</a></li>
    <li><a href="#" onclick="showPage('dashboard'); setActive(this)">Dashboard</a></li>
  </ul>
  <div class="nav-actions">
    <a class="nav-icon-btn" href="#" onclick="showPage('wishlist')">
      ‚ô°
      <span class="badge" id="wish-badge">3</span>
    </a>
    <a class="nav-icon-btn" href="#" onclick="showPage('cart')">
      üõç
      <span class="badge" id="cart-badge">2</span>
    </a>
    <a class="btn-primary" href="#" onclick="showPage('profile')">
      <span>üë§</span> Profil
    </a>
  </div>
</nav>

<!-- ===================== HOME PAGE ===================== -->
<div id="page-home" class="page active">
  <section class="hero">
    <div class="hero-content">
      <div class="hero-label">‚ú¶ Yangi kolleksiya 2025</div>
      <h1>
        Zamonaviy<br>
        <em>Uslub</em><br>
        Sizda
      </h1>
      <p class="hero-desc">
        Eng sifatli mahsulotlar, eng yaxshi narxlarda. Bizning kollekysiamiz siz uchun tanlab qo'yilgan.
      </p>
      <div class="hero-actions">
        <button class="btn-primary" onclick="showPage('products')">
          Xarid qilish ‚Üí
        </button>
        <button class="btn-ghost" onclick="showPage('orders')">
          Buyurtmalarim
        </button>
      </div>
      <div class="hero-stats">
        <div class="stat">
          <span class="stat-num">1.2k+</span>
          <span class="stat-label">Mahsulotlar</span>
        </div>
        <div class="stat">
          <span class="stat-num">450+</span>
          <span class="stat-label">Mijozlar</span>
        </div>
        <div class="stat">
          <span class="stat-num">98%</span>
          <span class="stat-label">Mamnuniyat</span>
        </div>
      </div>
    </div>
    <div class="hero-visual">
      <div class="hero-card">
        <div class="card-img">üì±</div>
        <div class="card-info">
          <h4>iPhone 15 Pro</h4>
          <div class="price">12,990,000 so'm</div>
        </div>
      </div>
      <div class="hero-card">
        <div class="card-img">üéß</div>
        <div class="card-info">
          <h4>AirPods Pro</h4>
          <div class="price">2,490,000 so'm</div>
        </div>
      </div>
      <div class="hero-card">
        <div class="card-img">‚åö</div>
        <div class="card-info">
          <h4>Apple Watch S9</h4>
          <div class="price">4,290,000 so'm</div>
        </div>
      </div>
    </div>
  </section>

  <!-- FEATURED CATEGORIES -->
  <div class="main-content">
    <div class="section-header">
      <h2 class="section-title">Kategoriyalar</h2>
    </div>
    <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(160px, 1fr)); gap: 16px; margin-bottom: 64px;">
      <div onclick="showPage('products')" style="background: var(--surface); border: 1px solid var(--border); border-radius: 16px; padding: 28px 20px; text-align: center; cursor: pointer; transition: all 0.25s;" onmouseover="this.style.borderColor='rgba(232,199,122,0.3)'; this.style.transform='translateY(-4px)'" onmouseout="this.style.borderColor='var(--border)'; this.style.transform='translateY(0)'">
        <div style="font-size: 40px; margin-bottom: 12px;">üì±</div>
        <div style="font-size: 14px; font-weight: 600;">Elektronika</div>
        <div style="font-size: 12px; color: var(--text-dim); margin-top: 4px; font-family: 'DM Mono', monospace;">142 ta</div>
      </div>
      <div onclick="showPage('products')" style="background: var(--surface); border: 1px solid var(--border); border-radius: 16px; padding: 28px 20px; text-align: center; cursor: pointer; transition: all 0.25s;" onmouseover="this.style.borderColor='rgba(232,199,122,0.3)'; this.style.transform='translateY(-4px)'" onmouseout="this.style.borderColor='var(--border)'; this.style.transform='translateY(0)'">
        <div style="font-size: 40px; margin-bottom: 12px;">üëó</div>
        <div style="font-size: 14px; font-weight: 600;">Kiyim</div>
        <div style="font-size: 12px; color: var(--text-dim); margin-top: 4px; font-family: 'DM Mono', monospace;">87 ta</div>
      </div>
      <div onclick="showPage('products')" style="background: var(--surface); border: 1px solid var(--border); border-radius: 16px; padding: 28px 20px; text-align: center; cursor: pointer; transition: all 0.25s;" onmouseover="this.style.borderColor='rgba(232,199,122,0.3)'; this.style.transform='translateY(-4px)'" onmouseout="this.style.borderColor='var(--border)'; this.style.transform='translateY(0)'">
        <div style="font-size: 40px; margin-bottom: 12px;">üè†</div>
        <div style="font-size: 14px; font-weight: 600;">Uy-ro'zg'or</div>
        <div style="font-size: 12px; color: var(--text-dim); margin-top: 4px; font-family: 'DM Mono', monospace;">95 ta</div>
      </div>
      <div onclick="showPage('products')" style="background: var(--surface); border: 1px solid var(--border); border-radius: 16px; padding: 28px 20px; text-align: center; cursor: pointer; transition: all 0.25s;" onmouseover="this.style.borderColor='rgba(232,199,122,0.3)'; this.style.transform='translateY(-4px)'" onmouseout="this.style.borderColor='var(--border)'; this.style.transform='translateY(0)'">
        <div style="font-size: 40px; margin-bottom: 12px;">‚öΩ</div>
        <div style="font-size: 14px; font-weight: 600;">Sport</div>
        <div style="font-size: 12px; color: var(--text-dim); margin-top: 4px; font-family: 'DM Mono', monospace;">63 ta</div>
      </div>
      <div onclick="showPage('products')" style="background: var(--surface); border: 1px solid var(--border); border-radius: 16px; padding: 28px 20px; text-align: center; cursor: pointer; transition: all 0.25s;" onmouseover="this.style.borderColor='rgba(232,199,122,0.3)'; this.style.transform='translateY(-4px)'" onmouseout="this.style.borderColor='var(--border)'; this.style.transform='translateY(0)'">
        <div style="font-size: 40px; margin-bottom: 12px;">üíÑ</div>
        <div style="font-size: 14px; font-weight: 600;">Go'zallik</div>
        <div style="font-size: 12px; color: var(--text-dim); margin-top: 4px; font-family: 'DM Mono', monospace;">54 ta</div>
      </div>
      <div onclick="showPage('products')" style="background: var(--surface); border: 1px solid var(--border); border-radius: 16px; padding: 28px 20px; text-align: center; cursor: pointer; transition: all 0.25s;" onmouseover="this.style.borderColor='rgba(232,199,122,0.3)'; this.style.transform='translateY(-4px)'" onmouseout="this.style.borderColor='var(--border)'; this.style.transform='translateY(0)'">
        <div style="font-size: 40px; margin-bottom: 12px;">üìö</div>
        <div style="font-size: 14px; font-weight: 600;">Kitoblar</div>
        <div style="font-size: 12px; color: var(--text-dim); margin-top: 4px; font-family: 'DM Mono', monospace;">211 ta</div>
      </div>
    </div>

    <!-- TRENDING PRODUCTS -->
    <div class="section-header">
      <h2 class="section-title">Trend <span>mahsulotlar</span></h2>
      <span class="section-meta">// 1,247 ta jami</span>
    </div>
    <div class="products-grid">
      <!-- Product cards injected by JS -->
    </div>
  </div>
</div>

<!-- ===================== PRODUCTS PAGE ===================== -->
<div id="page-products" class="page">
  <div class="main-content">
    <div class="section-header">
      <div>
        <h1 class="section-title">Barcha <span>mahsulotlar</span></h1>
      </div>
      <span class="section-meta">// 1,247 ta mahsulot</span>
    </div>

    <!-- SEARCH & FILTER -->
    <div style="display: flex; gap: 16px; margin-bottom: 28px; flex-wrap: wrap; align-items: center;">
      <div style="flex: 1; min-width: 280px; position: relative;">
        <span style="position: absolute; left: 16px; top: 50%; transform: translateY(-50%); color: var(--text-dim); font-size: 16px;">üîç</span>
        <input type="text" placeholder="Mahsulot qidiring..." style="width: 100%; padding: 12px 16px 12px 44px; background: var(--surface); border: 1px solid var(--border); border-radius: var(--radius-sm); color: var(--text); font-size: 14px; font-family: 'DM Sans',sans-serif; outline: none; transition: border-color 0.2s;" onfocus="this.style.borderColor='rgba(232,199,122,0.4)'" onblur="this.style.borderColor='var(--border)'" id="search-input" oninput="filterProducts()">
      </div>
      <select onchange="filterProducts()" id="sort-select" style="padding: 12px 16px; background: var(--surface); border: 1px solid var(--border); border-radius: var(--radius-sm); color: var(--text); font-size: 14px; font-family: 'DM Sans',sans-serif; outline: none; cursor: pointer;">
        <option>Saralash: Default</option>
        <option>Narx: Past ‚Üí Yuqori</option>
        <option>Narx: Yuqori ‚Üí Past</option>
        <option>Chegirma: Ko'proq</option>
      </select>
    </div>

    <div class="categories" id="cat-filter">
      <button class="cat-chip active" onclick="filterCat(this,'all')">üè∑ Barchasi</button>
      <button class="cat-chip" onclick="filterCat(this,'Elektronika')">üì± Elektronika</button>
      <button class="cat-chip" onclick="filterCat(this,'Kiyim')">üëó Kiyim</button>
      <button class="cat-chip" onclick="filterCat(this,'Uy-rozgor')">üè† Uy-ro'zg'or</button>
      <button class="cat-chip" onclick="filterCat(this,'Sport')">‚öΩ Sport</button>
    </div>

    <div class="products-grid" id="products-grid-main">
    </div>
  </div>
</div>

<!-- ===================== CART PAGE ===================== -->
<div id="page-cart" class="page">
  <div class="main-content">
    <div class="section-header">
      <h1 class="section-title">Mening <span>savatim</span></h1>
    </div>
    <div class="cart-layout">
      <div>
        <div class="cart-items-list" id="cart-list">
        </div>
      </div>
      <div class="order-summary">
        <div class="summary-title">Buyurtma xulosasi</div>
        <div class="summary-row">
          <span class="label">Mahsulotlar</span>
          <span class="value" id="sum-items">0 ta</span>
        </div>
        <div class="summary-row">
          <span class="label">Yetkazib berish</span>
          <span class="value" style="color: var(--success)">Bepul</span>
        </div>
        <div class="summary-row">
          <span class="label">Chegirma</span>
          <span class="value" id="sum-discount" style="color: var(--danger)">-0 so'm</span>
        </div>
        <div class="divider" style="margin: 12px 0;"></div>
        <div class="summary-row total">
          <span class="label">Jami</span>
          <span class="value" id="sum-total">0 so'm</span>
        </div>
        <button class="checkout-btn" onclick="checkout()">
          Buyurtma berish ‚Üí
        </button>
        <button class="btn-ghost" style="width: 100%; margin-top: 12px; justify-content: center;" onclick="showPage('products')">
          ‚Üê Xaridni davom ettirish
        </button>
      </div>
    </div>
  </div>
</div>

<!-- ===================== ORDERS PAGE ===================== -->
<div id="page-orders" class="page">
  <div class="main-content">
    <div class="section-header">
      <h1 class="section-title">Mening <span>buyurtmalarim</span></h1>
      <span class="section-meta">// 12 ta buyurtma</span>
    </div>

    <div class="categories" style="margin-bottom: 32px;">
      <button class="cat-chip active">Barchasi</button>
      <button class="cat-chip">‚è≥ Kutilmoqda</button>
      <button class="cat-chip">üîÑ Jarayonda</button>
      <button class="cat-chip">üöö Yo'lda</button>
      <button class="cat-chip">‚úÖ Yetkazildi</button>
      <button class="cat-chip">‚ùå Bekor qilindi</button>
    </div>

    <div class="orders-list" id="orders-list">
    </div>
  </div>
</div>

<!-- ===================== ORDER SUCCESS ===================== -->
<div id="page-success" class="page">
  <div class="success-page">
    <div class="success-icon">‚úì</div>
    <h1 style="font-family: 'Playfair Display', serif; font-size: 40px; font-weight: 700; margin-bottom: 12px;">Buyurtma qabul qilindi!</h1>
    <p style="color: var(--text-muted); font-size: 16px; margin-bottom: 40px; max-width: 400px;">Sizning buyurtmangiz muvaffaqiyatli yaratildi. Tez orada aloqaga chiqamiz.</p>
    <div style="display: flex; gap: 16px; justify-content: center;">
      <button class="btn-primary" onclick="showPage('orders')">Buyurtmalarimni ko'rish</button>
      <button class="btn-ghost" onclick="showPage('home')">Bosh sahifaga</button>
    </div>
  </div>
</div>

<!-- ===================== PROFILE PAGE ===================== -->
<div id="page-profile" class="page">
  <div class="main-content">
    <div class="profile-header">
      <div class="avatar-wrap">
        <div class="avatar">–ê</div>
        <div class="online-dot"></div>
      </div>
      <div>
        <div class="profile-name">Alisher Karimov</div>
        <div class="profile-username">@alisher_k</div>
        <div class="profile-meta">
          <div class="meta-item">
            <span class="meta-label">Telefon</span>
            <span class="meta-value">+998 90 123 45 67</span>
          </div>
          <div class="meta-item">
            <span class="meta-label">Email</span>
            <span class="meta-value" style="font-size: 13px;">alisher@email.com</span>
          </div>
          <div class="meta-item">
            <span class="meta-label">Manzil</span>
            <span class="meta-value" style="font-size: 13px;">Toshkent, Chilonzor</span>
          </div>
        </div>
      </div>
      <div style="margin-left: auto;">
        <button class="btn-ghost" onclick="showPage('profile-edit')">Tahrirlash</button>
      </div>
    </div>

    <div class="balance-card">
      <div>
        <div class="balance-label">Hisob balansi</div>
        <div class="balance-amount"><span>so'm</span> 2,450,000</div>
      </div>
      <button class="btn-primary">+ Balansni to'ldirish</button>
    </div>

    <div class="section-header" style="margin-top: 32px;">
      <h2 class="section-title">Mening <span>mahsulotlarim</span></h2>
      <button class="btn-primary" onclick="showPage('product-create')">+ Mahsulot qo'shish</button>
    </div>
    <div class="products-grid" id="my-products-grid">
    </div>
  </div>
</div>

<!-- ===================== WISHLIST PAGE ===================== -->
<div id="page-wishlist" class="page">
  <div class="main-content">
    <div class="section-header">
      <h1 class="section-title">Sevimlilar <span>ro'yxati</span></h1>
    </div>
    <div class="products-grid" id="wishlist-grid">
    </div>
  </div>
</div>

<!-- ===================== DASHBOARD PAGE ===================== -->
<div id="page-dashboard" class="page">
  <div class="main-content">
    <div class="section-header">
      <h1 class="section-title">Dashboard <span>panel</span></h1>
    </div>
    <div class="stats-grid">
      <div class="stat-card fade-up fade-up-1">
        <div class="s-icon">üì¶</div>
        <div class="s-val">142</div>
        <div class="s-lbl">Jami mahsulotlar</div>
      </div>
      <div class="stat-card fade-up fade-up-2">
        <div class="s-icon">üõí</div>
        <div class="s-val">38</div>
        <div class="s-lbl">Aktiv buyurtmalar</div>
      </div>
      <div class="stat-card fade-up fade-up-3">
        <div class="s-icon">üë•</div>
        <div class="s-val">1.2k</div>
        <div class="s-lbl">Jami foydalanuvchilar</div>
      </div>
      <div class="stat-card fade-up fade-up-4">
        <div class="s-icon">üí∞</div>
        <div class="s-val">48M</div>
        <div class="s-lbl">Umumiy daromad (so'm)</div>
      </div>
    </div>

    <div style="background: var(--surface); border: 1px solid var(--border); border-radius: var(--radius); overflow: hidden;">
      <div style="padding: 20px 24px; border-bottom: 1px solid var(--border); display: flex; justify-content: space-between; align-items: center;">
        <h3 style="font-size: 18px; font-weight: 600;">So'nggi buyurtmalar</h3>
        <button class="btn-ghost" style="font-size: 13px;" onclick="showPage('orders')">Barchasini ko'rish ‚Üí</button>
      </div>
      <table class="dash-table">
        <thead>
          <tr>
            <th>Buyurtma ID</th>
            <th>Mijoz</th>
            <th>Mahsulotlar</th>
            <th>Jami</th>
            <th>Holat</th>
            <th>Sana</th>
            <th>Amallar</th>
          </tr>
        </thead>
        <tbody id="dash-orders-tbody">
        </tbody>
      </table>
    </div>
  </div>
</div>

<!-- ===================== LOGIN PAGE ===================== -->
<div id="page-login" class="page">
  <div class="auth-wrap">
    <div class="auth-card">
      <div class="auth-logo">
        <div class="auth-logo-text">LUXESTORE</div>
      </div>
      <h2 class="auth-title">Kirish</h2>
      <p class="auth-subtitle">Hisobingizga xush kelibsiz</p>
      <div class="form-group">
        <label class="form-label">Username</label>
        <input type="text" class="form-input" placeholder="username kiriting">
      </div>
      <div class="form-group">
        <label class="form-label">Parol</label>
        <input type="password" class="form-input" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢">
      </div>
      <button class="form-btn" onclick="login()">Kirish</button>
      <div class="auth-switch">
        Hisobingiz yo'qmi? <a href="#" onclick="showPage('register')">Ro'yxatdan o'tish</a>
      </div>
      <div class="auth-switch" style="margin-top: 8px;">
        <a href="#" onclick="showPage('recovery')" style="color: var(--text-muted); font-size: 13px;">Parolni unutdingizmi?</a>
      </div>
    </div>
  </div>
</div>

<!-- ===================== REGISTER PAGE ===================== -->
<div id="page-register" class="page">
  <div class="auth-wrap">
    <div class="auth-card">
      <div class="auth-logo">
        <div class="auth-logo-text">LUXESTORE</div>
      </div>
      <h2 class="auth-title">Ro'yxatdan o'tish</h2>
      <p class="auth-subtitle">Yangi hisob yarating</p>
      <div class="form-group">
        <label class="form-label">Username</label>
        <input type="text" class="form-input" placeholder="foydalanuvchi nomi">
      </div>
      <div class="form-group">
        <label class="form-label">Email</label>
        <input type="email" class="form-input" placeholder="email@example.com">
      </div>
      <div class="form-group">
        <label class="form-label">Profil rasmi</label>
        <input type="file" class="form-input" accept="image/*" style="padding: 10px 18px;">
      </div>
      <div class="form-group">
        <label class="form-label">Parol</label>
        <input type="password" class="form-input" placeholder="kamida 5 belgi">
      </div>
      <div class="form-group">
        <label class="form-label">Parolni takrorlang</label>
        <input type="password" class="form-input" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢">
      </div>
      <button class="form-btn" onclick="register()">Ro'yxatdan o'tish</button>
      <div class="auth-switch">
        Hisobingiz bormi? <a href="#" onclick="showPage('login')">Kirish</a>
      </div>
    </div>
  </div>
</div>

<!-- ===================== EMAIL VERIFY PAGE ===================== -->
<div id="page-verify" class="page">
  <div class="auth-wrap">
    <div class="auth-card">
      <div style="text-align: center; font-size: 56px; margin-bottom: 16px;">‚úâÔ∏è</div>
      <h2 class="auth-title">Email tasdiqlash</h2>
      <p class="auth-subtitle">Emailingizga 6 raqamli kod yuborildi</p>
      <div class="form-group" style="text-align: center;">
        <label class="form-label">Tasdiqlash kodi</label>
        <input type="text" class="form-input" placeholder="000000" maxlength="6" style="text-align: center; font-size: 24px; letter-spacing: 8px; font-family: 'DM Mono', monospace;">
      </div>
      <button class="form-btn" onclick="verify()">Tasdiqlash</button>
      <div class="auth-switch">
        Kod kelmadimi? <a href="#">Qayta yuborish</a>
      </div>
    </div>
  </div>
</div>

<!-- ===================== RECOVERY PAGE ===================== -->
<div id="page-recovery" class="page">
  <div class="auth-wrap">
    <div class="auth-card">
      <div style="text-align: center; font-size: 56px; margin-bottom: 16px;">üîë</div>
      <h2 class="auth-title">Parolni tiklash</h2>
      <p class="auth-subtitle">Emailingizni kiriting, kod yuboramiz</p>
      <div class="form-group">
        <label class="form-label">Email</label>
        <input type="email" class="form-input" placeholder="email@example.com">
      </div>
      <button class="form-btn" onclick="showPage('verify')">Kod yuborish</button>
      <div class="auth-switch">
        <a href="#" onclick="showPage('login')">‚Üê Kirishga qaytish</a>
      </div>
    </div>
  </div>
</div>

<!-- ===================== PRODUCT CREATE PAGE ===================== -->
<div id="page-product-create" class="page">
  <div class="main-content" style="max-width: 700px; margin: 0 auto;">
    <div class="section-header">
      <h1 class="section-title">Mahsulot <span>qo'shish</span></h1>
    </div>
    <div style="background: var(--surface); border: 1px solid var(--border); border-radius: var(--radius); padding: 40px;">
      <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
        <div class="form-group">
          <label class="form-label">Sarlavha</label>
          <input type="text" class="form-input" placeholder="Mahsulot nomi">
        </div>
        <div class="form-group">
          <label class="form-label">Brend</label>
          <input type="text" class="form-input" placeholder="Brend nomi">
        </div>
        <div class="form-group">
          <label class="form-label">Kategoriya</label>
          <select class="form-input" style="cursor: pointer;">
            <option>Elektronika</option>
            <option>Kiyim</option>
            <option>Uy-ro'zg'or</option>
            <option>Sport</option>
            <option>Go'zallik</option>
          </select>
        </div>
        <div class="form-group">
          <label class="form-label">Stok miqdori</label>
          <input type="number" class="form-input" placeholder="0">
        </div>
        <div class="form-group">
          <label class="form-label">Narx (so'm)</label>
          <input type="number" class="form-input" placeholder="0.00">
        </div>
        <div class="form-group">
          <label class="form-label">Chegirma (%)</label>
          <input type="number" class="form-input" placeholder="0" min="0" max="100">
        </div>
      </div>
      <div class="form-group">
        <label class="form-label">Tavsif</label>
        <textarea class="form-input" rows="4" placeholder="Mahsulot tavsifi..." style="resize: vertical;"></textarea>
      </div>
      <div class="form-group">
        <label class="form-label">Asosiy rasm</label>
        <input type="file" class="form-input" accept="image/*" style="padding: 10px 18px;">
      </div>
      <div class="form-group">
        <label class="form-label">Qo'shimcha rasmlar</label>
        <input type="file" class="form-input" accept="image/*" multiple style="padding: 10px 18px;">
      </div>
      <div style="display: flex; gap: 14px; margin-top: 8px;">
        <button class="form-btn" onclick="createProduct()" style="flex: 1;">Mahsulot qo'shish</button>
        <button class="btn-ghost" onclick="showPage('dashboard')" style="flex: 0.5; justify-content: center;">Bekor qilish</button>
      </div>
    </div>
  </div>
</div>

<!-- ===================== PROFILE EDIT PAGE ===================== -->
<div id="page-profile-edit" class="page">
  <div class="main-content" style="max-width: 600px; margin: 0 auto;">
    <div class="section-header">
      <h1 class="section-title">Profilni <span>tahrirlash</span></h1>
    </div>
    <div style="background: var(--surface); border: 1px solid var(--border); border-radius: var(--radius); padding: 40px;">
      <div class="form-group">
        <label class="form-label">Profil rasmi</label>
        <input type="file" class="form-input" accept="image/*" style="padding: 10px 18px;">
      </div>
      <div class="form-group">
        <label class="form-label">Telefon raqam</label>
        <input type="tel" class="form-input" placeholder="+998 XX XXX XX XX" value="+998 90 123 45 67">
      </div>
      <div class="form-group">
        <label class="form-label">Manzil</label>
        <input type="text" class="form-input" placeholder="Shahar, ko'cha..." value="Toshkent, Chilonzor">
      </div>
      <div class="form-group">
        <label class="form-label">Balans to'ldirish (so'm)</label>
        <input type="number" class="form-input" placeholder="0">
      </div>
      <div class="form-group">
        <label class="form-label">Yangi parol (ixtiyoriy)</label>
        <input type="password" class="form-input" placeholder="Yangi parol kiriting">
      </div>
      <div style="display: flex; gap: 14px; margin-top: 8px;">
        <button class="form-btn" onclick="updateProfile()">Saqlash</button>
        <button class="btn-ghost" onclick="showPage('profile')" style="justify-content: center;">Bekor qilish</button>
      </div>
    </div>
  </div>
</div>

<!-- PRODUCT DETAIL MODAL -->
<div class="modal-overlay" id="product-modal">
  <div class="modal">
    <div class="modal-header">
      <div>
        <div id="modal-brand" style="font-size: 11px; color: var(--text-dim); text-transform: uppercase; letter-spacing: 1.5px; font-family: 'DM Mono', monospace; margin-bottom: 6px;"></div>
        <div class="product-detail-title" id="modal-title"></div>
      </div>
      <button class="modal-close" onclick="closeModal()">√ó</button>
    </div>
    <div class="product-detail-img" id="modal-img"></div>
    <p class="product-detail-desc" id="modal-desc"></p>
    <div class="product-detail-meta">
      <div class="meta-chip">
        <span class="lbl">Narx</span>
        <span class="val" id="modal-price" style="color: var(--accent);"></span>
      </div>
      <div class="meta-chip">
        <span class="lbl">Stok</span>
        <span class="val" id="modal-stock"></span>
      </div>
      <div class="meta-chip">
        <span class="lbl">Brend</span>
        <span class="val" id="modal-brand2"></span>
      </div>
      <div class="meta-chip">
        <span class="lbl">Kategoriya</span>
        <span class="val" id="modal-cat"></span>
      </div>
    </div>
    <button class="checkout-btn" onclick="addToCartFromModal()">Savatga qo'shish üõç</button>
  </div>
</div>

<!-- TOAST CONTAINER -->
<div class="toast" id="toast-container"></div>

<script>
// ==================== DATA ====================
const products = [
  { id:1, title:'iPhone 15 Pro Max', brand:'Apple', category:'Elektronika', price:14990000, discount_price:12990000, percent:13, stock:15, desc:'A17 Pro chip, titanium dizayn, 48MP kamera tizimi', icon:'üì±' },
  { id:2, title:'Samsung Galaxy S24 Ultra', brand:'Samsung', category:'Elektronika', price:12500000, discount_price:11200000, percent:10, stock:8, desc:'Galaxy AI, 200MP kamera, S Pen bilan', icon:'üì±' },
  { id:3, title:'MacBook Air M3', brand:'Apple', category:'Elektronika', price:24900000, discount_price:22490000, percent:10, stock:5, desc:'M3 chip, 18 soat batareya, 13.6 dyuym Liquid Retina', icon:'üíª' },
  { id:4, title:'Nike Air Max 270', brand:'Nike', category:'Kiyim', price:1890000, discount_price:1490000, percent:21, stock:32, desc:'Yengil va qulaylik uchun mo\'ljallangan sport poyabzal', icon:'üëü' },
  { id:5, title:'Sony WH-1000XM5', brand:'Sony', category:'Elektronika', price:3990000, discount_price:3290000, percent:18, stock:20, desc:'Sanoatdagi eng yaxshi shovqinni bloklash', icon:'üéß' },
  { id:6, title:'Levi\'s 501 Jins', brand:'Levi\'s', category:'Kiyim', price:890000, discount_price:790000, percent:11, stock:45, desc:'Original straight fit jins, 100% paxta', icon:'üëñ' },
  { id:7, title:'Apple Watch Series 9', brand:'Apple', category:'Elektronika', price:5490000, discount_price:4990000, percent:9, stock:12, desc:'S9 chip, Ultra Wideband, Qon kislorodi sensori', icon:'‚åö' },
  { id:8, title:'Dyson V15 Detect', brand:'Dyson', category:'Uy-rozgor', price:6990000, discount_price:5990000, percent:14, stock:7, desc:'Lazer tomonidan aniqlangan chang, kuchli so\'rish', icon:'üßπ' },
  { id:9, title:'Adidas Ultraboost 23', brand:'Adidas', category:'Sport', price:2290000, discount_price:1990000, percent:13, stock:28, desc:'Boost texnologiyasi bilan yumshoq va energiya qaytaruvchi', icon:'üëü' },
  { id:10, title:'iPad Pro 12.9" M2', brand:'Apple', category:'Elektronika', price:18900000, discount_price:16900000, percent:11, stock:9, desc:'M2 chip, ProMotion 120Hz, Liquid Retina XDR', icon:'üìü' },
  { id:11, title:'Canon EOS R8', brand:'Canon', category:'Elektronika', price:11490000, discount_price:9990000, percent:13, stock:4, desc:'24.2MP Full-Frame sensori, 4K videoyozuv', icon:'üì∑' },
  { id:12, title:'IKEA KALLAX tokcha', brand:'IKEA', category:'Uy-rozgor', price:890000, discount_price:890000, percent:0, stock:50, desc:'Ko\'p maqsadli tokcha, 4 ta katak', icon:'ü™ë' },
];

const cart = [];
const wishlist = [];
let currentProduct = null;

const orders = [
  { id: 1001, items:[{title:'iPhone 15 Pro Max', qty:1},{title:'Apple Watch S9', qty:1}], total:'17,980,000', status:'pending', date:'2025-01-15 14:30' },
  { id: 1002, items:[{title:'Samsung Galaxy S24', qty:1}], total:'11,200,000', status:'delivered', date:'2025-01-10 09:15' },
  { id: 1003, items:[{title:'Nike Air Max 270', qty:2},{title:'Adidas Ultraboost', qty:1}], total:'4,970,000', status:'shipped', date:'2025-01-08 16:45' },
  { id: 1004, items:[{title:'Sony WH-1000XM5', qty:1}], total:'3,290,000', status:'cancelled', date:'2025-01-05 11:20' },
  { id: 1005, items:[{title:'MacBook Air M3', qty:1}], total:'22,490,000', status:'processing', date:'2025-01-14 08:00' },
];

// ==================== NAVIGATION ====================
function showPage(name) {
  document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
  const target = document.getElementById('page-' + name);
  if (target) {
    target.classList.add('active');
    window.scrollTo(0, 0);
  }

  if (name === 'products') renderProductsMain();
  if (name === 'cart') renderCart();
  if (name === 'orders') renderOrders();
  if (name === 'dashboard') renderDashboard();
  if (name === 'wishlist') renderWishlist();
  if (name === 'profile') renderMyProducts();
}

function setActive(el) {
  document.querySelectorAll('.nav-links a').forEach(a => a.classList.remove('active'));
  el.classList.add('active');
}

// ==================== RENDER PRODUCTS ====================
function formatPrice(n) {
  return Number(n).toLocaleString('uz-UZ') + ' so\'m';
}

function productCardHTML(p, showActions = false) {
  const inWish = wishlist.includes(p.id);
  const inCart = cart.find(c => c.id === p.id);
  return `
    <div class="product-card" onclick="openProduct(${p.id})">
      <div class="product-img-wrap">
        <span style="font-size: 72px;">${p.icon}</span>
        <div class="product-badges">
          ${p.percent > 0 ? `<span class="badge-discount">-${p.percent}%</span>` : ''}
          <span class="badge-stock">${p.stock} ta qoldi</span>
        </div>
        <button class="wish-btn ${inWish ? 'active' : ''}" onclick="toggleWish(event, ${p.id})">${inWish ? '‚ô•' : '‚ô°'}</button>
      </div>
      <div class="product-body">
        <div class="product-brand">${p.brand}</div>
        <div class="product-title">${p.title}</div>
        <div class="product-pricing">
          <span class="price-current">${formatPrice(p.discount_price)}</span>
          ${p.percent > 0 ? `<span class="price-original">${formatPrice(p.price)}</span>` : ''}
        </div>
        <button class="add-cart-btn ${inCart ? 'added' : ''}" onclick="addToCart(event, ${p.id})">
          ${inCart ? '‚úì Savatda' : 'üõç Savatga'}
        </button>
        ${showActions ? `
          <div class="action-btns" style="margin-top: 10px;">
            <button class="btn-sm btn-edit" onclick="event.stopPropagation(); showPage('product-create')">Tahrirlash</button>
            <button class="btn-sm btn-del" onclick="event.stopPropagation(); showToast('Mahsulot o\'chirildi', 'error')">O'chirish</button>
          </div>` : ''}
      </div>
    </div>`;
}

function renderHome() {
  const grid = document.querySelector('#page-home .products-grid');
  if (grid) grid.innerHTML = products.slice(0, 8).map(p => productCardHTML(p)).join('');
}

function renderProductsMain() {
  const grid = document.getElementById('products-grid-main');
  if (grid) grid.innerHTML = products.map(p => productCardHTML(p)).join('');
}

function renderMyProducts() {
  const grid = document.getElementById('my-products-grid');
  if (grid) grid.innerHTML = products.slice(0, 6).map(p => productCardHTML(p, true)).join('');
}

function renderWishlist() {
  const grid = document.getElementById('wishlist-grid');
  if (!grid) return;
  const wishProducts = products.filter(p => wishlist.includes(p.id));
  if (wishProducts.length === 0) {
    grid.innerHTML = `<div class="empty-state" style="grid-column: 1/-1">
      <div class="empty-icon">‚ô°</div>
      <div class="empty-title">Sevimlilar bo'sh</div>
      <div class="empty-text">Yoqtirgan mahsulotlaringizni bu yerda saqlaysiz</div>
      <button class="btn-primary" onclick="showPage('products')">Mahsulotlarga o'tish ‚Üí</button>
    </div>`;
  } else {
    grid.innerHTML = wishProducts.map(p => productCardHTML(p)).join('');
  }
}

// ==================== FILTER ====================
function filterCat(el, cat) {
  document.querySelectorAll('#cat-filter .cat-chip').forEach(c => c.classList.remove('active'));
  el.classList.add('active');
  const grid = document.getElementById('products-grid-main');
  const filtered = cat === 'all' ? products : products.filter(p => p.category === cat);
  grid.innerHTML = filtered.map(p => productCardHTML(p)).join('');
}

function filterProducts() {
  const q = document.getElementById('search-input').value.toLowerCase();
  const filtered = products.filter(p =>
    p.title.toLowerCase().includes(q) ||
    p.brand.toLowerCase().includes(q) ||
    p.category.toLowerCase().includes(q)
  );
  const grid = document.getElementById('products-grid-main');
  grid.innerHTML = filtered.length ? filtered.map(p => productCardHTML(p)).join('') :
    `<div class="empty-state" style="grid-column: 1/-1"><div class="empty-icon">üîç</div><div class="empty-title">Natija topilmadi</div></div>`;
}

// ==================== WISHLIST ====================
function toggleWish(e, id) {
  e.stopPropagation();
  const idx = wishlist.indexOf(id);
  if (idx > -1) {
    wishlist.splice(idx, 1);
    showToast('Sevimlilardan olib tashlandi', 'info');
  } else {
    wishlist.push(id);
    showToast('Sevimlilar ro\'yxatiga qo\'shildi ‚ô•', 'success');
  }
  document.getElementById('wish-badge').textContent = wishlist.length;
  renderHome();
  renderProductsMain();
}

// ==================== CART ====================
function addToCart(e, id) {
  e.stopPropagation();
  const p = products.find(x => x.id === id);
  const existing = cart.find(x => x.id === id);
  if (existing) {
    existing.qty++;
    showToast('Miqdor oshirildi!', 'info');
  } else {
    cart.push({ ...p, qty: 1 });
    showToast(p.title + ' savatga qo\'shildi!', 'success');
  }
  document.getElementById('cart-badge').textContent = cart.length;
  renderHome();
  renderProductsMain();
}

function addToCartFromModal() {
  if (currentProduct) {
    addToCart({ stopPropagation: ()=>{} }, currentProduct);
    closeModal();
  }
}

function renderCart() {
  const list = document.getElementById('cart-list');
  if (!list) return;
  if (cart.length === 0) {
    list.innerHTML = `<div class="empty-state">
      <div class="empty-icon">üõç</div>
      <div class="empty-title">Savat bo'sh</div>
      <div class="empty-text">Hali hech narsa qo'shilmagan</div>
      <button class="btn-primary" onclick="showPage('products')">Xarid qilish ‚Üí</button>
    </div>`;
    document.getElementById('sum-items').textContent = '0 ta';
    document.getElementById('sum-total').textContent = '0 so\'m';
    document.getElementById('sum-discount').textContent = '-0 so\'m';
    return;
  }
  list.innerHTML = cart.map(item => `
    <div class="cart-item-card">
      <div class="cart-item-img"><span style="font-size: 32px;">${item.icon}</span></div>
      <div class="cart-item-info">
        <div class="cart-item-brand">${item.brand}</div>
        <div class="cart-item-title">${item.title}</div>
        <div class="cart-item-price">${formatPrice(item.discount_price)}</div>
      </div>
      <div class="qty-control">
        <button class="qty-btn" onclick="changeQty(${item.id}, -1)">‚àí</button>
        <span class="qty-num">${item.qty}</span>
        <button class="qty-btn" onclick="changeQty(${item.id}, 1)">+</button>
      </div>
      <button class="remove-btn" onclick="removeFromCart(${item.id})">üóë</button>
    </div>`).join('');

  const total = cart.reduce((s, i) => s + i.discount_price * i.qty, 0);
  const origTotal = cart.reduce((s, i) => s + i.price * i.qty, 0);
  const discount = origTotal - total;
  document.getElementById('sum-items').textContent = cart.length + ' ta';
  document.getElementById('sum-total').textContent = formatPrice(total);
  document.getElementById('sum-discount').textContent = '-' + formatPrice(discount);
}

function changeQty(id, delta) {
  const item = cart.find(x => x.id === id);
  if (item) {
    item.qty = Math.max(1, item.qty + delta);
    renderCart();
  }
}

function removeFromCart(id) {
  const idx = cart.findIndex(x => x.id === id);
  if (idx > -1) {
    cart.splice(idx, 1);
    document.getElementById('cart-badge').textContent = cart.length;
    renderCart();
    showToast('Savatdan olib tashlandi', 'error');
  }
}

function checkout() {
  if (cart.length === 0) {
    showToast('Savat bo\'sh!', 'error');
    return;
  }
  cart.length = 0;
  document.getElementById('cart-badge').textContent = 0;
  showPage('success');
  showToast('Buyurtma muvaffaqiyatli yaratildi! üéâ', 'success');
}

// ==================== ORDERS ====================
function getStatusInfo(s) {
  const map = {
    pending: { cls: 'status-pending', label: 'Kutilmoqda' },
    processing: { cls: 'status-processing', label: 'Jarayonda' },
    shipped: { cls: 'status-shipped', label: 'Yo\'lda' },
    delivered: { cls: 'status-delivered', label: 'Yetkazildi' },
    cancelled: { cls: 'status-cancelled', label: 'Bekor qilindi' },
  };
  return map[s] || map.pending;
}

function renderOrders() {
  const list = document.getElementById('orders-list');
  if (!list) return;
  list.innerHTML = orders.map(o => {
    const si = getStatusInfo(o.status);
    return `
      <div class="order-card">
        <div class="order-header">
          <div>
            <div class="order-id">#${o.id}</div>
            <div class="order-date">üìÖ ${o.date}</div>
          </div>
          <div style="text-align: right;">
            <div class="order-total">${o.total} so'm</div>
            <span class="status-badge ${si.cls}" style="margin-top: 8px;">${si.label}</span>
          </div>
        </div>
        <div class="order-items-preview">
          ${o.items.map(i => `<span class="order-item-chip">${i.title} √ó${i.qty}</span>`).join('')}
        </div>
        ${o.status === 'pending' ? `
          <div style="margin-top: 16px; padding-top: 16px; border-top: 1px solid var(--border);">
            <button class="btn-sm btn-del" onclick="cancelOrder(${o.id}, this)">Bekor qilish</button>
          </div>` : ''}
      </div>`;
  }).join('');
}

function cancelOrder(id, btn) {
  const order = orders.find(o => o.id === id);
  if (order) {
    order.status = 'cancelled';
    renderOrders();
    showToast('Buyurtma #' + id + ' bekor qilindi', 'error');
  }
}

// ==================== DASHBOARD ====================
function renderDashboard() {
  const tbody = document.getElementById('dash-orders-tbody');
  if (!tbody) return;
  tbody.innerHTML = orders.map(o => {
    const si = getStatusInfo(o.status);
    return `<tr>
      <td><span style="font-family: 'DM Mono', monospace; color: var(--accent);">#${o.id}</span></td>
      <td>Alisher K.</td>
      <td>${o.items.map(i => i.title).join(', ')}</td>
      <td><span style="font-family: 'DM Mono', monospace;">${o.total} so'm</span></td>
      <td><span class="status-badge ${si.cls}">${si.label}</span></td>
      <td style="color: var(--text-muted); font-size: 12px;">${o.date}</td>
      <td>
        <div class="action-btns">
          <button class="btn-sm btn-view" onclick="showPage('orders')">Ko'rish</button>
          ${o.status === 'pending' ? `<button class="btn-sm btn-del" onclick="cancelOrder(${o.id})">Bekor</button>` : ''}
        </div>
      </td>
    </tr>`;
  }).join('');
}

// ==================== MODAL ====================
function openProduct(id) {
  const p = products.find(x => x.id === id);
  if (!p) return;
  currentProduct = p.id;
  document.getElementById('modal-brand').textContent = p.brand;
  document.getElementById('modal-title').textContent = p.title;
  document.getElementById('modal-img').innerHTML = `<span style="font-size: 80px;">${p.icon}</span>`;
  document.getElementById('modal-desc').textContent = p.desc;
  document.getElementById('modal-price').textContent = formatPrice(p.discount_price);
  document.getElementById('modal-stock').textContent = p.stock + ' ta';
  document.getElementById('modal-brand2').textContent = p.brand;
  document.getElementById('modal-cat').textContent = p.category;
  document.getElementById('product-modal').classList.add('open');
}

function closeModal() {
  document.getElementById('product-modal').classList.remove('open');
}

document.getElementById('product-modal').addEventListener('click', function(e) {
  if (e.target === this) closeModal();
});

// ==================== TOAST ====================
function showToast(msg, type = 'info') {
  const container = document.getElementById('toast-container');
  const icons = { success: '‚úì', error: '‚úï', info: '‚ú¶' };
  const div = document.createElement('div');
  div.className = `toast-item toast-${type}`;
  div.innerHTML = `<span>${icons[type]}</span> ${msg}`;
  container.appendChild(div);
  setTimeout(() => div.remove(), 3500);
}

// ==================== AUTH ACTIONS ====================
function login() { showToast('Tizimga muvaffaqiyatli kirdingiz! üéâ', 'success'); showPage('home'); }
function register() { showToast('Kod emailingizga yuborildi!', 'info'); showPage('verify'); }
function verify() { showToast('Email tasdiqlandi!', 'success'); showPage('login'); }
function updateProfile() { showToast('Profil yangilandi!', 'success'); showPage('profile'); }
function createProduct() { showToast('Mahsulot muvaffaqiyatli qo\'shildi!', 'success'); showPage('dashboard'); }

// ==================== INIT ====================
renderHome();
</script>

</body>
</html>
